<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap">
    <link rel="stylesheet" href="style.css">
</head>
<body class="p-4">
    <div id="star-container" class="star-container"></div>
    <div id="postOverlay" class="post-detail-overlay"></div> <h1 id="mainTitle" class="text-4xl font-extrabold text-center mb-8 relative z-10">posts</h1>

    <div id="tagFilters" class="text-center mb-8 relative z-10">
        <button class="tag-button active" data-tag="all">All</button>
        <button class="tag-button" data-tag="writing">Writing</button>
        <button class="tag-button" data-tag="update">Update</button>
        <button class="tag-button" data-tag="projects">Projects</button>
        <button class="tag-button" data-tag="thoughts">Thoughts</button>
        <button class="tag-button" data-tag="fun">Fun</button>
    </div>

    <div id="postsGrid" class="masonry-grid">
        <div class="card" id="post-intro" data-title="Intro" data-full-content="<p class='text-gray-300 text-sm'>I'm Sampada, a rising sophomore at MIT studying Mechanical Engineering with a concentration in robotics (2A-6). <br></p><img src='me.png' alt='sampada nepal' class='w-full mt-4 rounded-lg shadow-lg'> <br><p class='text-gray-300 text-sm'>This summer, I'll be in San Francisco working on a personal robotics project. If that sounds interesting or if you'd like to meet, reach out to me at sampada@mit.edu</p>" data-date="may 30, 2025">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">intro</h2>
                <p class="text-gray-300 text-sm">I'm Sampada, a rising sophomore at MIT studying Mechanical Engineering with a concentration in robotics (2A-6). <br>This summer, I'll be in San Francisco working on a personal robotics project. If that sounds interesting or if you'd like to meet, reach out to me at sampada@mit.edu</p>
                <img src="me.png" alt="sampada nepal" class="w-full mt-4 rounded-lg shadow-lg">
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1"></div>
                <p class="text-xs text-gray-500 card-date-display">may 30, 2025</p>
            </div>
        </div>

        <div class="card" data-tags="projects" id="post-loading" data-title="Loading..." data-full-content="<p class='text-gray-300 text-sm'>launch screen I made for a game</p><img src='pixilart-drawing.gif' alt='pixel gif' class='w-full mt-4 rounded-lg shadow-lg'><br>" data-date="june 10, 2022">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">loading...</h2>
                <p class="text-gray-300 text-sm">launch screen I made for a game</p>
                <img src="pixilart-drawing.gif" alt="pixel gif" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">june 10, 2022</p>
            </div>
        </div>

        <div class="card" data-tags="update,projects" id="post-maslab" data-title="MASLAB" data-full-content="<p class='text-gray-300 text-sm'>This January I participated in Mobile Autonomous Systems Laboratory (MASLAB), a month-long course at MIT designed to give an introduction to autonomous robotics. I learned how to use ROS2 and computer vision for carrying out tasks. It was really enjoyable and it made me want to experiment more on my own.<br></p><img src='maslabpinion.gif' alt='rack and pinion design' class='w-full mt-4 rounded-lg shadow-lg'><br><p class='text-gray-300 text-sm'>I did a lot of hardware design, CAD, and prototyping as well; this rack and pinion design was mounted to a DC motor to pick up multicolored blocks.</p>" data-date="jan 30, 2025">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">maslab</h2>
                <p class="text-gray-300 text-sm">This January I participated in Mobile Autonomous Systems Laboratory (MASLAB), a month-long course at MIT designed to give an introduction to autonomous robotics. I learned how to use ROS2 and computer vision for carrying out tasks. It was really enjoyable and it made me want to experiment more on my own.<br>I did a lot of hardware design, CAD, and prototyping as well; this rack and pinion design was mounted to a DC motor to pick up multicolored blocks.</p>
                <img src="maslabpinion.gif" alt="rack and pinion design" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="update">update</span>
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">jan 30, 2025</p>
            </div>
        </div>

        <div class="card" data-tags="update,projects" id="post-beerbot" data-title="Beerbot In Process" data-full-content="<p class='text-gray-300 text-sm'>a CAD model for a project coming up..</p><img src='beerbotcad.gif' alt='cad of a robot' class='w-full mt-4 rounded-lg shadow-lg'><br>" data-date="june 10, 2022">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">beerbot in process</h2>
                <p class="text-gray-300 text-sm'>a CAD model for a project coming up..</p>
                <img src="beerbotcad.gif" alt="cad of a robot" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                    <span class="tag-button !cursor-default" data-tag="update">update</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">june 10, 2022</p>
            </div>
        </div>

        <div class="card" data-tags="projects" id="post-game-dev" data-title="Game Dev" data-full-content="<p class='text-gray-300 text-sm'>I’ve done a few start-to-finish pixel games in Unity. Through these projects I’ve produced a lot of tilemaps, backgrounds, and programming in C# for video games. <br></p><img src='ghost game.png' alt='pixel gif' class='w-full mt-4 rounded-lg shadow-lg'><br><p class='text-gray-300 text-sm'>halloween game objective: collect lots of candy and escape the evil jack-o-lantern</p>" data-date="September 16, 2021">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">game dev</h2>
                <p class="text-gray-300 text-sm">I’ve done a few start-to-finish pixel games in Unity. Through these projects I’ve produced a lot of tilemaps, backgrounds, and programming in C# for video games. <br>halloween game objective: collect lots of candy and escape the evil jack-o-lantern</p>
                <img src="ghost game.png" alt="pixel gif" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">September 16, 2021</p>
            </div>
        </div>

        <div class="card" data-tags="projects" id="post-mulberry-lamp" data-title="Mulberry Lamp" data-full-content="<p class='text-gray-300 text-sm'>This was a weekend project gift for my dad :)</p><img src='raspilamp.png' alt='stained glass lamp' class='w-full mt-4 rounded-lg shadow-lg'><br>" data-date="April 23, 2025">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">mulberry lamp</h2>
                <p class="text-gray-300 text-sm'>This was a weekend project gift for my dad :)</p>
                <img src="raspilamp.png" alt="stained glass lamp" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">April 23, 2025</p>
            </div>
        </div>

        <div class="card" data-tags="projects" id="post-hackathon" data-title="Baby’s First Hackathon" data-full-content="<p class='text-gray-300 text-sm'>I competed in my first <a href='https://github.com/samyok/cine.stream'>hackathon</a> in 2021 with my brother! we made an online 3D movie-watching arena made entirely from CSS. <br></p><img src='cinestream.png' alt='pixel graphic' class='w-full mt-4 rounded-lg shadow-lg'><br><p class='text-gray-300 text-sm'>winning this hackathon was very inspiring and exciting for me and led to a lot of other random projects I did that year. </p>" data-date="april 16, 2021">
            <div class="card-content">
                <h2 class="text-2xl font-bold mb-2">baby’s first hackathon</h2>
                <p class="text-gray-300 text-sm'>I competed in my first <a href="https://github.com/samyok/cine.stream">hackathon</a> in 2021 with my brother! we made an online 3D movie-watching arena made entirely from CSS. <br>winning this hackathon was very inspiring and exciting for me and led to a lot of other random projects I did that year. </p>
                <img src="cinestream.png" alt="pixel graphic" class="w-full mt-4 rounded-lg shadow-lg"><br>
            </div>
            <div class="mt-4 flex justify-between items-center">
                <div class="flex flex-wrap gap-1">
                    <span class="tag-button !cursor-default" data-tag="projects">projects</span>
                </div>
                <p class="text-xs text-gray-500 card-date-display">april 16, 2021</p>
            </div>
        </div>
    </div>

    <div id="postDetailView" class="post-detail-view">
        <button class="close-button" id="closeDetailView">&times;</button>
        <h2 id="detailTitle" class="text-3xl font-bold mb-4 text-white"></h2>
        <div id="detailContent" class="text-gray-300 mb-4"></div>
        <div class="flex flex-wrap gap-2 mb-4" id="detailTags"></div>
        <p id="detailDate" class="text-xs text-gray-500"></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const starContainer = document.getElementById('star-container');
            const numberOfStars = 150;
            const starSize = 2;

            for (let i = 0; i < numberOfStars; i++) {
                const star = document.createElement('span');
                star.classList.add('star');

                star.style.width = `${starSize}px`;
                star.style.height = `${starSize}px`;

                const x = Math.random() * 100;
                const y = Math.random() * 100;
                star.style.left = `${x}vw`;
                star.style.top = `${y}vh`;

                const duration = Math.random() * 2 + 1;
                const delay = Math.random() * 2;
                star.style.animationDuration = `${duration}s`;
                star.style.animationDelay = `${delay}s`;

                starContainer.appendChild(star);
            }

            const tagFiltersDiv = document.getElementById('tagFilters');
            const postsGrid = document.getElementById('postsGrid');
            const allPostCards = Array.from(postsGrid.querySelectorAll('.card'));

            const postDetailView = document.getElementById('postDetailView');
            const postOverlay = document.getElementById('postOverlay');
            const detailTitle = document.getElementById('detailTitle');
            const detailContent = document.getElementById('detailContent');
            const detailTags = document.getElementById('detailTags');
            const detailDate = document.getElementById('detailDate');
            const closeDetailViewButton = document.getElementById('closeDetailView');

            // Function to truncate text
            function truncateText(text, maxLength) {
                if (text.length <= maxLength) {
                    return text;
                }
                let truncated = text.substring(0, maxLength);
                // Try to find the last space to avoid cutting words in half
                const lastSpace = truncated.lastIndexOf(' ');
                if (lastSpace !== -1) {
                    truncated = truncated.substring(0, lastSpace);
                }
                return truncated + '...';
            }

            function applyTruncationToCards() {
                allPostCards.forEach(card => {
                    const contentParagraph = card.querySelector('.card-content p.text-gray-300');
                    if (contentParagraph) {
                        const fullText = contentParagraph.textContent; // Get the original full text
                        const truncatedText = truncateText(fullText, 150);
                        contentParagraph.textContent = truncatedText;
                    }
                });
            }

            function lowerCaseCardDates() {
                document.querySelectorAll('.card .card-date-display').forEach(dateElement => {
                    dateElement.textContent = dateElement.textContent.toLowerCase();
                });
            }

            function showPostsGrid() {
                postsGrid.style.display = 'grid'; // Maintain masonry grid display
                tagFiltersDiv.style.display = 'block';
                document.getElementById('mainTitle').style.display = 'block';
                postDetailView.style.display = 'none';
                postOverlay.style.display = 'none';
                document.body.style.overflow = 'auto'; // Re-enable scrolling on body

                // Remove blur and pointer-events from background when closing detail view
                postsGrid.style.pointerEvents = 'auto';
                postsGrid.style.filter = 'none';
                tagFiltersDiv.style.pointerEvents = 'auto';
                tagFiltersDiv.style.filter = 'none';
                document.getElementById('mainTitle').style.filter = 'none';
            }

            function showPostDetail(cardElement) {
                // Apply blur and pointer-events to background
                postsGrid.style.pointerEvents = 'none';
                postsGrid.style.filter = 'blur(3px) brightness(0.5)';
                tagFiltersDiv.style.pointerEvents = 'none';
                tagFiltersDiv.style.filter = 'blur(3px) brightness(0.5)';
                document.getElementById('mainTitle').style.filter = 'blur(3px) brightness(0.5)';

                document.body.style.overflow = 'hidden'; // Disable scrolling on body

                detailTitle.textContent = cardElement.dataset.title;
                // Use data-full-content for the detailed view
                detailContent.innerHTML = cardElement.dataset.fullContent;

                detailTags.innerHTML = '';
                const tags = cardElement.dataset.tags ? cardElement.dataset.tags.split(',') : [];
                tags.forEach(tag => {
                    const tagSpan = document.createElement('span');
                    tagSpan.classList.add('tag-button', '!cursor-default');
                    tagSpan.setAttribute('data-tag', tag);
                    tagSpan.textContent = tag;
                    detailTags.appendChild(tagSpan);
                });

                detailDate.textContent = cardElement.dataset.date.toLowerCase();
                postDetailView.style.display = 'flex';
                postOverlay.style.display = 'block';
                window.scrollTo(0, 0); // Scroll to top when detail view opens
            }

            function applyFilter(selectedTag) {
                allPostCards.forEach(card => {
                    const cardTags = card.dataset.tags ? card.dataset.tags.split(',') : [];
                    if (selectedTag === 'all' || cardTags.includes(selectedTag)) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }

            tagFiltersDiv.querySelectorAll('.tag-button').forEach(button => {
                button.addEventListener('click', () => {
                    const selectedTag = button.dataset.tag;

                    tagFiltersDiv.querySelectorAll('.tag-button').forEach(btn => {
                        if (selectedTag === 'all') {
                            btn.style.display = 'inline-block';
                        } else {
                            if (btn.dataset.tag === selectedTag || btn.dataset.tag === 'all') {
                                btn.style.display = 'inline-block';
                            } else {
                                btn.style.display = 'none';
                            }
                        }
                        btn.classList.remove('active');
                    });

                    button.classList.add('active');
                    applyFilter(selectedTag);
                });
            });

            // Event listener for clicking on the entire card
            postsGrid.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', (event) => {
                    // Prevent opening detail view if a tag button within the card is clicked
                    if (event.target.closest('.tag-button')) {
                        return;
                    }
                    showPostDetail(card);
                });
            });

            // Event listener for closing the detail view
            closeDetailViewButton.addEventListener('click', () => {
                showPostsGrid();
                const allButton = tagFiltersDiv.querySelector('[data-tag="all"]');
                if (allButton) {
                    allButton.click();
                }
            });

            // Handle initial filter from URL
            const urlParams = new URLSearchParams(window.location.search);
            const initialTag = urlParams.get('tag');

            const initialFilterButton = initialTag ?
                                      tagFiltersDiv.querySelector(`.tag-button[data-tag="${initialTag}"]`) :
                                      tagFiltersDiv.querySelector('[data-tag="all"]');

            if (initialFilterButton) {
                initialFilterButton.click();
            } else {
                tagFiltersDiv.querySelector('[data-tag="all"]').click();
            }

            // Apply truncation and then show the grid
            applyTruncationToCards();
            showPostsGrid();

            lowerCaseCardDates();
        });
    </script>
</body>
</html>